{"version":3,"file":"component---src-pages-goodbye-js-a6e19bffd2031df5d39d.js","mappings":"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","sources":["webpack://aemivore/./node_modules/use-sound/dist/use-sound.esm.js","webpack://aemivore/./src/assets/goodbye.mp4","webpack://aemivore/./src/assets/Well.mp3","webpack://aemivore/./src/pages/goodbye.js","webpack://aemivore/./src/pages/goodbye.module.scss"],"sourcesContent":["import React__default, { useEffect } from 'react';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction useOnMount(callback) {\n  useEffect(callback, []);\n}\nfunction useSound(src, _ref) {\n  if (_ref === void 0) {\n    _ref = {};\n  }\n  var _ref2 = _ref,\n    _ref2$volume = _ref2.volume,\n    volume = _ref2$volume === void 0 ? 1 : _ref2$volume,\n    _ref2$playbackRate = _ref2.playbackRate,\n    playbackRate = _ref2$playbackRate === void 0 ? 1 : _ref2$playbackRate,\n    _ref2$soundEnabled = _ref2.soundEnabled,\n    soundEnabled = _ref2$soundEnabled === void 0 ? true : _ref2$soundEnabled,\n    _ref2$interrupt = _ref2.interrupt,\n    interrupt = _ref2$interrupt === void 0 ? false : _ref2$interrupt,\n    onload = _ref2.onload,\n    delegated = _objectWithoutPropertiesLoose(_ref2, [\"id\", \"volume\", \"playbackRate\", \"soundEnabled\", \"interrupt\", \"onload\"]);\n  var HowlConstructor = React__default.useRef(null);\n  var isMounted = React__default.useRef(false);\n  var _React$useState = React__default.useState(null),\n    duration = _React$useState[0],\n    setDuration = _React$useState[1];\n  var _React$useState2 = React__default.useState(null),\n    sound = _React$useState2[0],\n    setSound = _React$useState2[1];\n  var handleLoad = function handleLoad() {\n    if (typeof onload === 'function') {\n      // @ts-ignore\n      onload.call(this);\n    }\n    if (isMounted.current) {\n      // @ts-ignore\n      setDuration(this.duration() * 1000);\n    } // @ts-ignore\n\n    setSound(this);\n  }; // We want to lazy-load Howler, since sounds can't play on load anyway.\n\n  useOnMount(function () {\n    import('howler').then(function (mod) {\n      if (!isMounted.current) {\n        var _mod$Howl;\n\n        // Depending on the module system used, `mod` might hold\n        // the export directly, or it might be under `default`.\n        HowlConstructor.current = (_mod$Howl = mod.Howl) !== null && _mod$Howl !== void 0 ? _mod$Howl : mod[\"default\"].Howl;\n        isMounted.current = true;\n        new HowlConstructor.current(_extends({\n          src: Array.isArray(src) ? src : [src],\n          volume: volume,\n          rate: playbackRate,\n          onload: handleLoad\n        }, delegated));\n      }\n    });\n    return function () {\n      isMounted.current = false;\n    };\n  }); // When the `src` changes, we have to do a whole thing where we recreate\n  // the Howl instance. This is because Howler doesn't expose a way to\n  // tweak the sound\n\n  React__default.useEffect(function () {\n    if (HowlConstructor.current && sound) {\n      setSound(new HowlConstructor.current(_extends({\n        src: Array.isArray(src) ? src : [src],\n        volume: volume,\n        onload: handleLoad\n      }, delegated)));\n    } // The linter wants to run this effect whenever ANYTHING changes,\n    // but very specifically I only want to recreate the Howl instance\n    // when the `src` changes. Other changes should have no effect.\n    // Passing array to the useEffect dependencies list will result in\n    // ifinite loop so we need to stringify it, for more details check\n    // https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(src)]); // Whenever volume/playbackRate are changed, change those properties\n  // on the sound instance.\n\n  React__default.useEffect(function () {\n    if (sound) {\n      sound.volume(volume);\n      sound.rate(playbackRate);\n    } // A weird bug means that including the `sound` here can trigger an\n    // error on unmount, where the state loses track of the sprites??\n    // No idea, but anyway I don't need to re-run this if only the `sound`\n    // changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [volume, playbackRate]);\n  var play = React__default.useCallback(function (options) {\n    if (typeof options === 'undefined') {\n      options = {};\n    }\n    if (!sound || !soundEnabled && !options.forceSoundEnabled) {\n      return;\n    }\n    if (interrupt) {\n      sound.stop();\n    }\n    if (options.playbackRate) {\n      sound.rate(options.playbackRate);\n    }\n    sound.play(options.id);\n  }, [sound, soundEnabled, interrupt]);\n  var stop = React__default.useCallback(function (id) {\n    if (!sound) {\n      return;\n    }\n    sound.stop(id);\n  }, [sound]);\n  var pause = React__default.useCallback(function (id) {\n    if (!sound) {\n      return;\n    }\n    sound.pause(id);\n  }, [sound]);\n  var returnedValue = [play, {\n    sound: sound,\n    stop: stop,\n    pause: pause,\n    duration: duration\n  }];\n  return returnedValue;\n}\nexport default useSound;\nexport { useSound };","export default __webpack_public_path__ + \"static/goodbye-5f718246d6b26bdd464549be9eed86f0.mp4\";","export default __webpack_public_path__ + \"static/Well-db68e138eecaf47bb4e3893e3e02f36b.mp3\";","import React from \"react\";\nimport useSound from \"use-sound\";\n\nimport goodbyeAnimation from \"../assets/goodbye.mp4\";\nimport wellMusic from \"../assets/Well.mp3\";\n\nimport * as style from \"./goodbye.module.scss\";\n\nconst Goodbye = () => {\n  const [play] = useSound(wellMusic);\n  return (\n    <div className={style.container}>\n      <video\n        playsInline\n        autoPlay\n        muted\n        loop\n        className={style.animation}\n        onClick={play}\n      >\n        <source src={goodbyeAnimation} type=\"video/mp4\" />\n      </video>\n      <div className={style.message}>\n        <p>Thank you, sweet friends.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Goodbye;\n","// extracted by mini-css-extract-plugin\nexport var animation = \"goodbye-module--animation--2a5c6\";\nexport var container = \"goodbye-module--container--f2b36\";\nexport var message = \"goodbye-module--message--4e2aa\";"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","src","_ref","callback","_ref2","_ref2$volume","volume","_ref2$playbackRate","playbackRate","_ref2$soundEnabled","soundEnabled","_ref2$interrupt","interrupt","onload","delegated","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","HowlConstructor","isMounted","_React$useState","duration","setDuration","_React$useState2","sound","setSound","handleLoad","current","then","mod","_mod$Howl","Howl","Array","isArray","rate","useEffect","JSON","stringify","play","options","forceSoundEnabled","stop","id","pause","useSound","wellMusic","className","playsInline","autoPlay","muted","loop","onClick","goodbyeAnimation","type"],"sourceRoot":""}